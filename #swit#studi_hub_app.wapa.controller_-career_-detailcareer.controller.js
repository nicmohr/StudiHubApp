sap.ui.define(["Mosbach/StudiHub/controller/base.controller","Mosbach/StudiHub/assets/js/maps/MapsClass","sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,t,s,i){"use strict";return e.extend("Mosbach.StudiHub.controller.Carrer.DetailCareer",{exte+
ndInit:function(){this.oRouter=sap.ui.core.UIComponent.getRouterFor(this);this.oRouter.getRoute("RouteDetailCareer").attachPatternMatched(this._onObjectMatched,this);this.oMaps=new t(this.getView().byId(this.getVisibleMapId()));this.setDeviceModel()},_on+
ObjectMatched:function(e){var t=this;this.postId=e.getParameter("arguments").ID;var s="/CareerSet('"+this.postId.substr(1)+"')";var i;this.oModel.read(s,{success:function(e){i=e.Postcode+", "+e.City+", "+e.Street;t.oMaps.setLocation(e.Postcode+", "+e.Cit+
y+", "+e.Street);t.byId("userProfileButton").bindElement("/UserSet('"+e.Userid+"')")}});this.loadComments();this.getView().bindElement(s)},getVisibleMapId:function(){if(sap.ui.Device.system.desktop===true){return"vbi"}else{return"vbiMobile"}},setDeviceMo+
del:function(){var e=new s(i);e.setDefaultBindingMode("OneWay");this.getView().setModel(e,"device")},loadComments:function(){var e=new sap.m.FeedListItem({sender:"{Uname}",icon:"",senderPress:"onSenderPress",iconPress:"onIconPress",iconDensityAware:false+
,info:"",timestamp:"{Createddate}, {Createdtime}",text:"{Text}",convertLinksToAnchorTags:"All"});this.byId("commentList").bindAggregation("items",{path:"/CommentSet",template:e,filters:[new sap.ui.model.Filter("Postid",sap.ui.model.FilterOperator.EQ,this+
.postId.substr(1))]})},onEditCareerPress:function(){this.oRouter.navTo("RouteEditCareer",{ID:this.postId})},onWeblinkPress:function(e){var t=e.getSource().getTooltip();if(t.substr(4)!=="http")t="https://"+t;window.open(t,"_blank")},onComment:function(e){+
var t={Postid:this.postId.substr(1),Userid:this.oSession.getData().myUserId,Createddate:"",Createdtime:"",Text:e.getSource().getValue(),Uname:"",Usertype:""};this.oModel.create("/CommentSet",t,{success:function(e,t){},error:function(e){}})}})});          
sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox"],function(e,t){"use strict";return e.extend("Mosbach.StudiHub.controller.base",{onInit:function(){this.oModel=this.getOwnerComponent().getModel();this.getView().setModel(this.oModel);this.oSe+
ssion=this.getOwnerComponent().getModel("SessionModel");this.getView().setModel(this.oSession,"SessionModel");this.oRouter=sap.ui.core.UIComponent.getRouterFor(this);if(this.checkAuth()){this.setupInactive();this.extendInit()}},navToMaster:function(){thi+
s.oRouter.navTo("RouteMasterView")},navToProfile:function(e){this.oRouter.navTo("RouteDetailProfile",{userId:e})},onMyProfilePress:function(e){this.navToProfile(this.oSession.getData().myUserType.substr(0,1)+this.oSession.getData().myUserId)},onAdminPane+
lPress:function(){this.oRouter.navTo("RouteAdminPanel")},removeTimeZoneOffset:function(e){return e},dateFormatter:function(e){this.removeTimeZoneOffset(e);return e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()},firstLetter:function(e){if(e!==undefin+
ed)return e.substr(0,1)},setupInactive:function(){window.addEventListener("mousemove",this.resetTimer(),false);window.addEventListener("mousedown",this.resetTimer(),false);window.addEventListener("keypress",this.resetTimer(),false);window.addEventListene+
r("DOMMouseScroll",this.resetTimer(),false);window.addEventListener("mousewheel",this.resetTimer(),false);window.addEventListener("touchmove",this.resetTimer(),false);window.addEventListener("MSPointerMove",this.resetTimer(),false);this.startTimer()},sta+
rtTimer:function(){var e=this;this.timeoutID=window.setTimeout(function(){t.show("Session ist abgelaufen. Bitte melden Sie sich erneut an",{icon:t.Icon.ERROR,title:"Session abgelaufen.",emphasizedAction:t.Action.YES,onClose:function(t){e.oRouter.navTo("R+
outeLoginView")}})},6e5)},resetTimer:function(){window.clearTimeout(this.timeoutID);this.goActive()},goActive:function(){this.startTimer()},checkAuth:function(){var e=this;if(this.oSession.getData().authed===""){t.show("Session ungültig. Bitte melden Sie+
 sich erneut an.",{icon:t.Icon.ERROR,title:"Session ungültig.",emphasizedAction:t.Action.YES,onClose:function(t){e.oRouter.navTo("RouteLoginView")}});return false}else{return true}}})});                                                                     
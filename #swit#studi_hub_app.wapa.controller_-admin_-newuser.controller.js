sap.ui.define(["Mosbach/StudiHub/controller/base.controller","sap/m/MessageBox"],function(e,t){"use strict";return e.extend("Mosbach.StudiHub.controller.Admin.NewUser",{extendInit:function(){this.oRouter=sap.ui.core.UIComponent.getRouterFor(this);this.oR+
outer.getRoute("RouteNewUser").attachPatternMatched(this._onObjectMatched,this)},_onObjectMatched:function(){this.byId("inputMail").setValue("");this.byId("areaMailPw").setValue("")},generateDefault:function(){return Math.random().toString(36).substring(+
7)},getUserInput:function(){var e={};var t={};var i={};e.Email=this.byId("inputMail").getValue();e.Usertype=this.byId("userType").getSelectedKey();t.email=e.Email;t.password=this.generateDefault();t.authorized="";i.auth=t;i.user=e;return i},onCreateUser:+
function(){var e=this;var i=this.getUserInput();if(this.checkMail(i.user.Email)){this.oModel.create("/UserSet",i.user,{success:function(r,s){i.auth.userid=r.Userid;e.oModel.create("/AuthSet",i.auth,{success:function(){e.byId("areaMailPw").setValue("Das g+
enerierte Default Passwort zum Einloggen des Angelegten Users ist: "+i.auth.password+"\nBitten weißen Sie ihn darauf hin, dies zu ändern.");t.show("User wurden erfolgreich Registriert.",{icon:t.Icon.SUCCESS,title:"Registrierung."})},error:function(e){t.s+
how("Etwas ist schief gelaufen. Bitte versuchen Sie es später erneut",{icon:t.Icon.ERROR,title:"Registrierung."})}})},error:function(e){t.show("Etwas ist schief gelaufen. Bitte versuchen Sie es später erneut",{icon:t.Icon.ERROR,title:"Registrierung."})}}+
)}},checkMail:function(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}})});                                                                                                                                                
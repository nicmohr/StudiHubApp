sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/MessageToast"],function(t,e,i){"use strict";return t.extend("Mosbach.StudiHub.controller.Signup",{onInit:function(){this.oModel=this.getOwnerComponent().getModel();this.getView().setMo+
del(this.oModel);this.oRouter=sap.ui.core.UIComponent.getRouterFor(this);this.oRouter.getRoute("RouteSignup").attachPatternMatched(this._onObjectMatched,this)},_onObjectMatched:function(){this.byId("inputFirstname").setValue("");this.byId("inputLastname"+
).setValue("");this.byId("inputMail").setValue("");this.byId("inputStreet").setValue("");this.byId("inputZipcode").setValue("");this.byId("inputCity").setValue("");this.byId("inputMail").setValue("");this.byId("inputPw").setValue("")},navToLogin:function+
(){this.oRouter.navTo("RouteLoginView")},getUserInput:function(){var t={};var e={};var i={};t.Gender=this.byId("multiBoxStatus").getValue();t.Firstname=this.byId("inputFirstname").getValue();t.Lastname=this.byId("inputLastname").getValue();t.Email=this.b+
yId("inputMail").getValue();t.Street=this.byId("inputStreet").getValue();t.Postcode=this.byId("inputZipcode").getValue();t.City=this.byId("inputCity").getValue();t.Usertype="STDT";e.email=this.byId("inputMail").getValue();e.password=this.byId("inputPw").+
getValue();e.authorized="";i.auth=e;i.user=t;return i},checkInput:function(){var t=true;var e=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;var i=/^([0]{1}[1-9]{1}|[1-9]{1}[0-9]{1})[0-9]{3}$/;if(this.byId("multiBoxStatus").getValue()=+
==""){this.byId("multiBoxStatus").setValueState("Error");t=false}else{this.byId("multiBoxStatus").setValueState("Success")}if(this.byId("inputFirstname").getValue()===""){this.byId("inputFirstname").setValueState("Error");t=false}else{this.byId("inputFir+
stname").setValueState("Success")}if(this.byId("inputLastname").getValue()===""){this.byId("inputLastname").setValueState("Error");t=false}else{this.byId("inputLastname").setValueState("Success")}if((this.byId("inputMail").getValue()===""||this.byId("inp+
utMail").getValue()!==this.byId("confirmMail").getValue())&&!e.test(this.byId("inputMail").getValue())){this.byId("inputMail").setValueState("Error");this.byId("confirmMail").setValueState("Error");t=false}else{this.byId("inputMail").setValueState("Succe+
ss");this.byId("confirmMail").setValueState("Success")}if(this.byId("inputStreet").getValue()===""){this.byId("inputStreet").setValueState("Error");t=false}else{this.byId("inputStreet").setValueState("Success")}if(this.byId("inputZipcode").getValue()==="+
"&&!i.test(this.byId("inputZipcode"))){this.byId("inputZipcode").setValueState("Error");t=false}else{this.byId("inputZipcode").setValueState("Success")}if(this.byId("inputCity").getValue()===""){this.byId("inputCity").setValueState("Error");t=false}else{+
this.byId("inputCity").setValueState("Success")}if(this.byId("inputPw").getValue()===""||this.byId("inputPw").getValue()!==this.byId("confirmPw").getValue()){this.byId("inputPw").setValueState("Error");this.byId("confirmPw").setValueState("Error");t=fals+
e}else{this.byId("inputPw").setValueState("Success");this.byId("confirmPw").setValueState("Success")}return t},onCreateUser:function(){if(this.checkInput()){var t=this;var i=this.getUserInput();this.oModel.create("/UserSet",i.user,{success:function(s,u){+
i.auth.userid=s.Userid;t.oModel.create("/AuthSet",i.auth,{success:function(){e.show("Sie wurden erfolgreich Registriert. Bite melden Sie sich an.",{icon:e.Icon.SUCCESS,title:"Registrierung.",onClose:function(e){t.oRouter.navTo("RouteLoginView")}})},error+
:function(t){e.show("Etwas ist schief gelaufen. Bitte versuchen Sie es später erneut",{icon:e.Icon.ERROR,title:"Registrierung.",onClose:function(t){window.location.reload()}})}})},error:function(t){e.show("Etwas ist schief gelaufen. Bitte versuchen Sie e+
s später erneut",{icon:e.Icon.ERROR,title:"Registrierung.",onClose:function(t){window.location.reload()}})}})}else{e.show("Eingabe ungültig. Bitte überprüfen.",{icon:e.Icon.ERROR,title:"Eingabe ungültig.",emphasizedAction:e.Action.YES})}}})});            